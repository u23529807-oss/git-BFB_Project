<!doctype html>
<html lang = "en" data-bs-theme = "dark">
<head>
  <meta charset = "utf-8" />
  <meta name = "viewport" content = "width=device-width, initial-scale=1" />
  <title> BFB Supply Chain – Dashboard </title>
  <meta name = "description" content = "Track construction materials, deliveries, and site stock across projects in one place." />
  <link href = "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel = "stylesheet">
  <link href = "https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel = "stylesheet">
  <link href = "style.css" rel = "stylesheet" />
</head>
<body class = "bg-light">
  <nav class = "navbar navbar-expand-lg navbar-dark bg-primary" aria-label="Main">
    <div class = "container">
      <a class = "navbar-brand fw-semibold d-flex align-items-center gap-2" href = "index.html">
        <i class = "bi bi-box-seam"></i> BFB Supply Portal
      </a>
      <button class = "navbar-toggler" type = "button" data-bs-toggle = "collapse" data-bs-target = "#nav" aria-controls = "nav" aria-expanded = "false" aria-label = "Toggle navigation">
        <span class = "navbar-toggler-icon"></span>
      </button>
      <div id = "nav" class = "collapse navbar-collapse">
        <ul class = "navbar-nav ms-auto">
          <li class = "nav-item"><a class = "nav-link" href = "index.html"> Dashboard </a></li>
          <li class = "nav-item"><a class = "nav-link" href = "supplier.html"> Orders </a></li>
          <li class = "nav-item"><a class = "nav-link" href = "manager.html"> Inventory </a></li>
          <li class = "nav-item"><a class = "nav-link" href = "reports.html"> Reports </a></li>
        </ul>
      </div>
    </div>
  </nav>

  <header class = "py-5 bg-secondary-subtle border-bottom">
    <div class = "container text-center">
      <h1 class = "display-6 fw-bold">DeWalt Construction<br>Supply Chain Dashboard</h1>
      <p class = "text-muted mt-2">Track materials, deliveries, and stock across sites.</p>
      <div class = "d-flex flex-wrap gap-2 justify-content-center">
        <button class = "btn btn-outline-primary btn-sm" data-bs-toggle = "modal" data-bs-target = "#addOrderModal">
          <i class="bi bi-plus-circle me-1"></i> Add Order
        </button>
        <a class = "btn btn-link btn-sm" href="supplier.html"><i class="bi bi-truck me-1"></i> Manage Orders</a>
      </div>
    </div>
  </header>

  <main class = "container my-5">
    <div class = "row g-4">
      <div class = "col-md-4">
        <div class = "card text-white bg-primary shadow-sm kpi">
          <div class = "card-body">
            <h6 class = "card-title text-uppercase d-flex justify-content-between">
              Active Orders <i class = "bi bi-clipboard-check"></i>
            </h6>
            <div class = "display-6 fw-bold" id = "kpi-orders">—</div>
          </div>
        </div>
      </div>
      <div class = "col-md-4">
        <div class = "card text-white bg-warning shadow-sm kpi">
          <div class = "card-body">
            <h6 class = "card-title text-uppercase d-flex justify-content-between">
              Deliveries in Transit <i class = "bi bi-truck"></i>
            </h6>
            <div class = "display-6 fw-bold" id = "kpi-transit">—</div>
          </div>
        </div>
      </div>
      <div class = "col-md-4">
        <div class = "card text-white bg-danger shadow-sm kpi">
          <div class = "card-body">
            <h6 class = "card-title text-uppercase d-flex justify-content-between">
              Low Stock Items <i class = "bi bi-exclamation-triangle"></i>
            </h6>
            <div class = "display-6 fw-bold" id = "kpi-low">—</div>
          </div>
        </div>
      </div>
    </div>

    <section class = "mt-5" aria-labelledby="orders-heading">
      <div class = "d-flex align-items-center justify-content-between mb-2">
        <h5 id="orders-heading" class = "mb-0">Order Details</h5>
        <div class = "d-flex gap-2">
          <button id="btn-reset-data" class = "btn btn-outline-danger btn-sm">
            <i class = "bi bi-arrow-counterclockwise me-1"></i> Reset Data
          </button>
          <button id="btn-export" class = "btn btn-outline-secondary btn-sm">
            <i class = "bi bi-download me-1"></i> Export JSON
          </button>
          <label class = "btn btn-outline-secondary btn-sm mb-0">
            <i class = "bi bi-upload me-1"></i> Import JSON
            <input id = "input-import" type = "file" accept = "application/json" hidden />
          </label>
        </div>
      </div>
      <div id = "orders-grid" class = "row row-cols-1 row-cols-md-3 g-4">
        <noscript><p class = "text-muted">Enable JavaScript to see live order cards.</p></noscript>
      </div>
    </section>
  </main>

  <footer class = "py-4 border-top bg-white">
    <div class = "container small text-center text-muted">
      © 2025 DeWalt Construction — BFB Supply Chain Management System
    </div>
  </footer>

  <!-- Add Order Modal -->
  <div class = "modal fade" id = "addOrderModal" tabindex = "-1" aria-labelledby = "addOrderLabel" aria-hidden = "true">
    <div class = "modal-dialog">
      <form class = "modal-content needs-validation" id = "add-order-form" novalidate>
        <div class = "modal-header">
          <h5 class = "modal-title" id = "addOrderLabel">Add New Order</h5>
          <button type = "button" class = "btn-close" data-bs-dismiss = "modal" aria-label = "Close"></button>
        </div>
        <div class = "modal-body">
          <div class = "mb-3">
            <label for = "order-material" class = "form-label">Material</label>
            <input type = "text" class = "form-control" id = "order-material" required placeholder = "e.g., Cement Bags">
            <div class = "invalid-feedback">Please enter a material name.</div>
          </div>
          <div class = "mb-3">
            <label for = "order-supplier" class = "form-label">Supplier</label>
            <input type = "text" class = "form-control" id = "order-supplier" required placeholder = "e.g., BuildPro">
            <div class = "invalid-feedback">Please enter the supplier.</div>
          </div>
          <div class = "mb-3">
            <label for = "order-eta" class = "form-label">ETA</label>
            <input type = "date" class = "form-control" id = "order-eta" required>
            <div class = "invalid-feedback">Please choose a valid ETA.</div>
          </div>
          <div class = "mb-3">
            <label for = "order-status" class = "form-label">Status</label>
            <select id = "order-status" class = "form-select" required>
              <option value = "Scheduled" selected>Scheduled</option>
              <option value = "In Transit">In Transit</option>
              <option value = "Delayed">Delayed</option>
              <option value = "Delivered">Delivered</option>
            </select>
            <div class = "invalid-feedback" >Please choose a status.</div>
          </div>
        </div>
        <div class = "modal-footer">
          <button type = "button" class = "btn btn-outline-secondary" data-bs-dismiss = "modal">Cancel</button>
          <button type = "submit" class = "btn btn-primary">Add Order</button>
        </div>
      </form>
    </div>
  </div>

  <script src = "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src = "app.js"></script>
</body>
</html>